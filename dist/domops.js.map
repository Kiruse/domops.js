{"version":3,"file":"domops.js","mappings":"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","sources":["webpack://domops/webpack/bootstrap","webpack://domops/webpack/runtime/define property getters","webpack://domops/webpack/runtime/hasOwnProperty shorthand","webpack://domops/./dist/domops.esm.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","//////////////////////////////////////////////////////////////////////\r\n// A minimalist's interpretation of jQuery for DOM traversal & manipulation.\r\n// -----\r\n// Copyright (c) Kiruse 2021. Licensed under MIT License\r\n\"use strict\";\r\nexport default function $(...args) { return new DocQuery(...args); }\r\nlet docready = false;\r\n$.create = function (tag) {\r\n    return new DocQuery(document.createElement(tag));\r\n};\r\ndocument.addEventListener('DOMContentLoaded', () => docready = true);\r\n$.onready = function (cb) {\r\n    if (docready) {\r\n        cb();\r\n    }\r\n    else {\r\n        document.addEventListener('DOMContentLoaded', cb);\r\n    }\r\n};\r\nexport class ArgumentError extends Error {\r\n}\r\nexport class DocQuery {\r\n    selector;\r\n    relative;\r\n    elements;\r\n    length;\r\n    constructor(...args) {\r\n        if (args.length === 0)\r\n            throw new ArgumentError('no arguments passed');\r\n        if (Array.isArray(args[0])) {\r\n            this.relative = [];\r\n            this.elements = args[0];\r\n        }\r\n        else {\r\n            if (typeof (args[0]) === 'string') {\r\n                this.selector = args[0];\r\n                if (args.length < 2)\r\n                    this.relative = [document];\r\n                else\r\n                    this.relative = unique(ensureArray(args[1]));\r\n                if (!Array.isArray(this.relative))\r\n                    this.relative = [this.relative];\r\n                this.elements = DocQuery._query(this.selector, this.relative);\r\n            }\r\n            else {\r\n                this.relative = [];\r\n                this.elements = args;\r\n            }\r\n        }\r\n        for (let i = 0; i < this.elements.length; ++i) {\r\n            this[i] = this.elements[i];\r\n        }\r\n        this.length = this.elements.length;\r\n    }\r\n    /**\r\n     * Descend further down the DOM of each element in the current selection filtering for children matching the given selector.\r\n     * @see HTMLElement.querySelectorAll\r\n     * @param selector new selector to apply\r\n     * @returns new DocQuery containing all matching elements\r\n     */\r\n    query(selector) {\r\n        return new DocQuery(selector, this.elements);\r\n    }\r\n    /**\r\n     * Isolate a single element from the current selection.\r\n     * @param index of the element of the current selection to isolate\r\n     * @returns new DocQuery containing only the indexed element\r\n     */\r\n    at(...indices) {\r\n        if (indices.length === 0)\r\n            return [];\r\n        return new DocQuery(...indices.map(i => this.elements[i]).filter(e => !!e));\r\n    }\r\n    /**\r\n     * Isolate every nth element of the current selection in a new selection.\r\n     * @param n distance between elements\r\n     * @returns new DocQuery containing only every nth element\r\n     */\r\n    nth(n) {\r\n        return new DocQuery(...this.elements.filter((_, i) => i % n === 0));\r\n    }\r\n    attr(...args) {\r\n        if (args.length === 0)\r\n            throw new ArgumentError('no arguments');\r\n        if (args.length === 1) {\r\n            if (typeof (args[0]) === 'object')\r\n                return this._attr_obj(args[0]);\r\n            else\r\n                return this._attr_get(args[0]);\r\n        }\r\n        else {\r\n            return this._attr_set(args[0], args[1]);\r\n        }\r\n    }\r\n    _attr_get(name) {\r\n        return this.elements.map(e => e.getAttribute(name));\r\n    }\r\n    _attr_set(name, value) {\r\n        this.elements.forEach(e => e.setAttribute(name, value));\r\n        return this;\r\n    }\r\n    _attr_obj(props) {\r\n        for (let prop in props) {\r\n            if (props.hasOwnProperty(prop)) {\r\n                this._attr_set(prop, props[prop]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    data(...args) {\r\n        if (args.length === 0)\r\n            throw new ArgumentError('no arguments');\r\n        if (args.length === 1) {\r\n            if (typeof (args[0]) === 'object')\r\n                return this._data_obj(args[0]);\r\n            else\r\n                return this._attr_get('data-' + args[0]);\r\n        }\r\n        else {\r\n            return this._attr_set('data-' + args[0], args[1]);\r\n        }\r\n    }\r\n    _data_obj(props) {\r\n        for (let attr in props) {\r\n            if (props.hasOwnProperty(attr)) {\r\n                this._attr_set('data-' + attr, props[attr]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    text(arg) {\r\n        if (arg === undefined) {\r\n            return this.elements.map(e => e.innerText);\r\n        }\r\n        if (typeof (arg) === 'function') {\r\n            for (let i = 0; i < this.elements.length; ++i) {\r\n                this.elements[i].innerText = arg(this.elements[i], i, this.elements);\r\n            }\r\n            return this;\r\n        }\r\n        else {\r\n            this.elements.forEach(el => el.innerText = arg);\r\n            return this;\r\n        }\r\n    }\r\n    html(arg) {\r\n        if (arg === undefined) {\r\n            return this.elements.map(e => e.innerHTML);\r\n        }\r\n        if (typeof (arg) === 'function') {\r\n            for (let i = 0; i < this.elements.length; ++i) {\r\n                this.elements[i].innerHTML = arg(this.elements[i], i, this.elements);\r\n            }\r\n            return this;\r\n        }\r\n        else {\r\n            this.elements.forEach(el => el.innerHTML = arg);\r\n            return this;\r\n        }\r\n    }\r\n    value(val) {\r\n        if (val === undefined) {\r\n            return this.elements.map(el => el.value);\r\n        }\r\n        else {\r\n            this.elements.forEach((el, i, ary) => {\r\n                const input = el;\r\n                input.value = typeof (val) === 'function' ? val(el, i, ary) : val;\r\n            });\r\n            return this;\r\n        }\r\n    }\r\n    style(...args) {\r\n        if (args.length === 0)\r\n            throw new ArgumentError('no arguments');\r\n        if (args.length === 1) {\r\n            if (typeof (args[0]) === 'object')\r\n                return this._style_obj(args[0]);\r\n            else\r\n                return this._style_get(args[0]);\r\n        }\r\n        else {\r\n            return this._style_set(args[0], args[1]);\r\n        }\r\n    }\r\n    /**\r\n     * Get the absolute location on the page of each element in the current selection.\r\n     * @returns Array of 2-tuples [[x, y]]\r\n     */\r\n    location() {\r\n        return this.elements.map(this._elementLocation.bind(this));\r\n    }\r\n    _elementLocation(el) {\r\n        const result = [0, 0];\r\n        while (el) {\r\n            result[0] += el.offsetLeft;\r\n            result[1] += el.offsetTop;\r\n            el = el.offsetParent;\r\n        }\r\n        return result;\r\n    }\r\n    /**\r\n     * Get the absolute size of each element in the current selection.\r\n     * @returns Array of 2-tuples [[x, y]]\r\n     */\r\n    size() {\r\n        return this.elements.map(el => [el.offsetWidth, el.offsetHeight]);\r\n    }\r\n    /**\r\n     * Get the offsets of each element relative to their individual offset parents.\r\n     * The offset parent is the first ancestor element with CSS display set to anything but 'static'. In other words,\r\n     * it's the element considered as the anchor point by CSS.\r\n     *\r\n     * `right` and `bottom` are regular distances, i.e. distance from anchor parent's left border to element's right\r\n     * border respectively.\r\n     *\r\n     * @returns Array of 4-tuples [[left, top, right, bottom]]\r\n     */\r\n    box({ absolute } = {}) {\r\n        return this.elements.map(el => {\r\n            const [x, y] = absolute ? this._elementLocation(el) : [el.offsetLeft, el.offsetTop];\r\n            const [w, h] = [el.offsetWidth, el.offsetHeight];\r\n            return [x, y, x + w, y + h];\r\n        });\r\n    }\r\n    /**\r\n     * Get the offsets of each element relative to their individual offset parents as CSS-compatible objects array.\r\n     *\r\n     * Unlike {@see box}, `right` and `bottom` properties are reversed distances, i.e. distance from anchor parent's\r\n     * right border to element's own right border respectively.\r\n     *\r\n     * @returns Array of CSS location objects [{top, left, right, bottom}]\r\n     */\r\n    cssBox() {\r\n        return this.elements.map(el => {\r\n            const parent = el.offsetParent ?? document.body;\r\n            const [pw, ph] = [parent.offsetWidth, parent.offsetHeight];\r\n            const [x, y] = [el.offsetLeft, el.offsetTop];\r\n            const [w, h] = [el.offsetWidth, el.offsetHeight];\r\n            return {\r\n                top: y,\r\n                left: x,\r\n                right: pw - (x + w),\r\n                bottom: ph - (y + h),\r\n            };\r\n        });\r\n    }\r\n    _style_get(name) {\r\n        return this.elements.map(e => getComputedStyle(e)[name]);\r\n    }\r\n    _style_set(name, value) {\r\n        this.elements.forEach((e) => e.style[name] = value); // for some reason TypeScript is unaware of style property\r\n        return this;\r\n    }\r\n    _style_obj(props) {\r\n        for (let prop in props) {\r\n            if (props.hasOwnProperty(prop)) {\r\n                this._style_set(prop, props[prop]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    addClass(...classes) {\r\n        this.elements.forEach(e => e.classList.add(...classes));\r\n        return this;\r\n    }\r\n    removeClass(...classes) {\r\n        this.elements.forEach(e => e.classList.remove(...classes));\r\n        return this;\r\n    }\r\n    hasClass(cls) {\r\n        return this.elements.map(e => e.classList.contains(cls));\r\n    }\r\n    on(evt, handler) {\r\n        const events = evt.split(/\\s+/);\r\n        for (let elem of this.elements) {\r\n            for (let event of events) {\r\n                elem.addEventListener(event, handler);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    forEach(cb) {\r\n        this.elements.forEach(cb);\r\n        return this;\r\n    }\r\n    /**\r\n     * Transform each element in the current selection and return the new selection.\r\n     * @param cb transformer to apply\r\n     * @returns new selection of transformed elements\r\n     */\r\n    map(cb) {\r\n        return new DocQuery(...this.elements.map(cb));\r\n    }\r\n    /**\r\n     * Attach every element in the current selection to the given parent element.\r\n     * @param parent parent element to attach to\r\n     * @returns this selection\r\n     */\r\n    attachTo(parent) {\r\n        if (parent instanceof DocQuery) {\r\n            parent = parent[0];\r\n        }\r\n        this.elements.forEach(e => parent.appendChild(e));\r\n        return this;\r\n    }\r\n    /**\r\n     * Attach given children to the current selection's first element.\r\n     * @note elements can only be parented to at most one element, thus attaching to all elements in the selection is impossible.\r\n     * @note if the selection is empty, given children will be detached from the entire document instead\r\n     * @param children to attach\r\n     * @return this selection\r\n     */\r\n    attach(...children) {\r\n        if (this.elements.length === 0) {\r\n            children.forEach(child => {\r\n                if (typeof child === 'object')\r\n                    child.parentElement.removeChild(child);\r\n            });\r\n        }\r\n        else {\r\n            children.forEach(child => this.elements[0].appendChild(typeof child === 'string' ? document.createTextNode(child) : child));\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Detach the current selection from their parent elements.\r\n     * @note The elements in this selection will be effectively removed from the DOM until reattached.\r\n     * @see attach, attachTo\r\n     * @returns this selection\r\n     */\r\n    detach() {\r\n        for (let el of this.elements) {\r\n            el.parentElement.removeChild(el);\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Gets the parent element of every element in the current selection.\r\n     * If multiple elements share a parent, that parent is added only once.\r\n     * @returns new selection of parent elements\r\n     */\r\n    parent() {\r\n        const parents = [];\r\n        for (let elem of this.elements) {\r\n            if (parents.indexOf(elem.parentElement) === -1) {\r\n                parents.push(elem.parentElement);\r\n            }\r\n        }\r\n        return new DocQuery(...parents);\r\n    }\r\n    /**\r\n     * Detach all children from the elements of the current selection.\r\n     * @returns this selection\r\n     */\r\n    empty() {\r\n        for (let el of this.elements) {\r\n            for (let child of el.children) {\r\n                el.removeChild(child);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    static _query(selector, relative) {\r\n        return relative.map(r => [...r.querySelectorAll(selector)]).flat(1);\r\n    }\r\n}\r\nfunction unique(arr) {\r\n    for (let i = 0; i < arr.length; ++i) {\r\n        for (let j = i + 1; j < arr.length;) {\r\n            if (arr[i] === arr[j]) {\r\n                arr.splice(j, 1);\r\n                continue;\r\n            }\r\n            else {\r\n                ++j;\r\n            }\r\n        }\r\n    }\r\n    return arr;\r\n}\r\nconst ensureArray = x => Array.isArray(x) ? x : [x];\r\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","$","args","DocQuery","docready","create","tag","document","createElement","addEventListener","onready","cb","ArgumentError","Error","selector","relative","elements","length","constructor","Array","isArray","this","arr","i","j","splice","unique","ensureArray","_query","query","at","indices","map","filter","e","nth","n","_","attr","_attr_obj","_attr_get","_attr_set","name","getAttribute","value","forEach","setAttribute","props","data","_data_obj","text","arg","undefined","innerText","el","html","innerHTML","val","ary","style","_style_obj","_style_get","_style_set","location","_elementLocation","bind","result","offsetLeft","offsetTop","offsetParent","size","offsetWidth","offsetHeight","box","absolute","x","y","w","h","cssBox","parent","body","pw","ph","top","left","right","bottom","getComputedStyle","addClass","classes","classList","add","removeClass","remove","hasClass","cls","contains","on","evt","handler","events","split","elem","event","attachTo","appendChild","attach","children","child","parentElement","removeChild","createTextNode","detach","parents","indexOf","push","empty","r","querySelectorAll","flat"],"sourceRoot":""}